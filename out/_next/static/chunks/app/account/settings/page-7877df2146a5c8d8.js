(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[282],{37594:(e,a,s)=>{Promise.resolve().then(s.bind(s,57057))},57057:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>v});var t=s(95155),l=s(50162),r=s(1880);let A={src:"/_next/static/media/password.ac60f2e3.png",height:64,width:64,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAVFBMVEVMaXFbf64xf7VordIKhsUJntcYXqUiQKCJ5PI9gbQMf8I3pM59x+wNeb+IiKQtveZHr9fDxuRQut2OlrVSeqcObbxrY5kXd8BuuuAGl9sltOVSjL24bfkiAAAAGXRSTlMAWqv0/YpDBRL7KrluqEl83UT9ZM77WuTvFHDreQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAD5JREFUeJwdyFkSwBAQQMGHCUYWWZDt/vdMxV9XA2xTBALGrWOHtU3/isVdTwbMu8s9AIdK7VhUzjkBeB+AD0CwAd0wm3bVAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8};var i=s(85060),n=s(12115),o=s(69606),d=s(43415),p=s(87867),u=s(92967),x=s(86455),c=s(69265),m=s(2413),g=s(80398);let h=d.z.object({name:d.z.string().nonempty("Имя пользователя обязательно"),sourname:d.z.string().nonempty("Фамилия обязательна"),slug:d.z.string().nonempty("Никнейм пользователя обязателен"),email:d.z.string().email("Неверный формат email").nonempty("email пользователя обязателен")}),w=()=>{var e;let a=(0,p.Z)(e=>e.user),s=(0,p.Z)(e=>e.setUser),[l,r]=(0,n.useState)(!1),[A,d]=null!==(e=null==a?void 0:a.name.split(" "))&&void 0!==e?e:[],{control:w,handleSubmit:b}=(0,o.mN)({mode:"onChange",resolver:(0,i.u)(h),defaultValues:{name:A,sourname:d,slug:null==a?void 0:a.slug,email:null==a?void 0:a.user_email}}),f=async e=>{let{email:t,slug:l,name:A,sourname:i}=e,n=String(null==a?void 0:a.id);try{r(!0);let e=await (0,m.aZ)(n,{email:t,slug:l,name:"".concat(A," ").concat(i)});s(e.data),(0,g.m)("success","Данные профиля изменены")}catch(e){(0,g.m)("error","Произошла ошибка при обновлении данных")}finally{r(!1)}};return(0,t.jsxs)("form",{onSubmit:b(f),style:{display:"flex",flexDirection:"column",gap:"24px"},children:[(0,t.jsxs)(u.A,{direction:"row",gap:"48px",children:[(0,t.jsx)(x.A,{name:"name",control:w,label:"Имя *"}),(0,t.jsx)(x.A,{name:"sourname",control:w,label:"Фамилия *"})]}),(0,t.jsx)(x.A,{name:"slug",control:w,label:"Отображаемое имя *"}),(0,t.jsx)(x.A,{name:"email",control:w,label:"Email *"}),(0,t.jsx)(c.A,{sx:{marginTop:"24px",width:"100%",opacity:l?.6:1,gap:"12px"},variant:"primary",disabled:l,children:"Сохранить изменения"})]})},b=d.z.object({password1:d.z.string().nonempty("Это поле обязательно для заполнения"),password2:d.z.string().nonempty("Это поле обязательно для заполнения")}).refine(e=>e.password1===e.password2,{message:"Пароли не совпадают",path:["password2"]}),f=()=>{let e=(0,p.Z)(e=>e.user),[a,s]=(0,n.useState)(!1),{control:l,handleSubmit:r}=(0,o.mN)({mode:"onChange",resolver:(0,i.u)(b),defaultValues:{password1:"",password2:""}}),A=async a=>{let t=String(null==e?void 0:e.id);try{s(!0),await (0,m.ze)(t,{password:a.password1}),(0,g.m)("success","Пароль изменен")}catch(e){(0,g.m)("error","Произошла ошибка при обновлении данных")}finally{s(!1)}};return(0,t.jsxs)("form",{onSubmit:r(A),style:{display:"flex",flexDirection:"column",gap:"24px"},children:[" ",(0,t.jsx)(x.A,{type:"password",name:"password1",control:l,label:"Новый пароль *"}),(0,t.jsx)(x.A,{name:"password2",type:"password",control:l,label:"Подтвердите новый пароль *"}),(0,t.jsx)(c.A,{sx:{marginTop:"24px",width:"100%",opacity:a?.6:1,gap:"12px"},variant:"primary",disabled:a,children:"Сохранить изменения"})]})},j=()=>(0,t.jsxs)(u.A,{gap:"48px",children:[(0,t.jsx)(l.A,{icon:r.A,title:"Контактная информация",size:"large",children:(0,t.jsx)(w,{})}),(0,t.jsx)(l.A,{icon:A,title:"Cмена пароля",size:"large",children:(0,t.jsx)(f,{})})]}),v=()=>(0,t.jsx)(j,{})},50162:(e,a,s)=>{"use strict";s.d(a,{A:()=>i});var t=s(95155),l=s(92967),r=s(10810),A=s(5565);s(12115);let i=e=>{let{children:a,onMouseLeave:s,sx:i,icon:n,title:o,size:d}=e;return(0,t.jsxs)(l.A,{onMouseLeave:s,sx:{borderRadius:"4px",boxShadow:"0px 8px 24px -0.86px #1521331A",background:"linear-gradient(259.49deg, #FAFAFA 3.69%, #EFF8FF 110.74%)",...(e=>{switch(e){case"large":return{padding:"40px 30px",gap:"32px",width:"830px"};case"small":return{gap:"24px",marginRight:"auto",padding:"32px 0",width:"298px",minWidth:"298px",height:"min-content",fontWeight:400,fontSize:"20px",lineHeight:"24px"};default:return{}}})(d),...i},children:[o&&n&&(0,t.jsxs)(l.A,{direction:"row",gap:"10px",alignItems:"start",children:[(0,t.jsx)(A.default,{width:32,height:32,src:n,alt:o}),(0,t.jsx)(r.A,{sx:{textTransform:"uppercase"},variant:"h3",children:o})]}),a]})}},1880:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t={src:"/_next/static/media/userIcon.57550d4b.png",height:65,width:64,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAY1BMVEVMaXFxdNgWsOARmtw1zuwfRa8EjNNcldtHjOglvPKD9v+G7/1hzu6///8+zu5ToOFV1vcl0/BlYMquyfYmst8bldJjZtElZLuLfNwlptlaWsQw1f0lZ9IUh9MTxfF2m+o+a8xzCRvdAAAAG3RSTlMAbfn8jvr8Awv+H5isDHqVjKNqVkm3oryofDC2ogAgAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAQklEQVR4nB3IRxKAIBAAwQGEBROCWTH8/5VW2ccGfGxrQFAlNAhCtq5HgNFeQweox+izArbX6TsBSzHhn2Od98nzAUwBAoO0YZQeAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}}},e=>{var a=a=>e(e.s=a);e.O(0,[797,919,499,512,838,892,398,149,665,434,441,517,358],()=>a(37594)),_N_E=e.O()}]);